<h2>Gestión de Ingredientes</h2>

<form (ngSubmit)="guardar()">
  <!-- Nombre -->
  <input
    type="text"
    placeholder="Nombre"
    [(ngModel)]="nuevoIngrediente.nombre"
    name="nombre"
    required
  />

  <!-- Precio -->
  <input
    type="number"
    placeholder="Precio"
    [(ngModel)]="nuevoIngrediente.precio"
    name="precio"
    required
  />

  <!-- Unidad temporal para conversión -->
  <select [(ngModel)]="unidadTemporal" name="unidadTemporal" required>
    <option value="kg">Kilogramo (kg)</option>
    <option value="g">Gramo (g)</option>
    <option value="mg">Miligramo (mg)</option>
    <option value="lb">Libra (lb)</option>
    <option value="oz">Onza (oz)</option>
  </select>

  <!-- Peso a convertir -->
  <input
    type="number"
    placeholder="Peso"
    [(ngModel)]="pesoTemporal"
    name="pesoTemporal"
    required
  />

  <!-- Botones -->
  <button type="submit">
    {{ idEditando ? 'Actualizar' : 'Agregar' }}
  </button>
  <button type="button" (click)="cancelarEdicion()">Cancelar</button>
</form>

<!-- Tabla de ingredientes -->
<table>
  <thead>
    <tr>
      <th>Nombre</th>
      <th>Precio</th>
      <th>Peso (kg)</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let ing of ingredientes">
      <td>{{ ing.nombre }}</td>
      <td>{{ ing.precio | number: '1.2-2' }}</td>
      <td>
        {{ ing.peso != null && ing.peso > 0 ? (ing.peso | number: '1.3-3') : 'N/A' }}
      </td>
      <td>
        <button (click)="editarIngrediente(ing)">Editar</button>
        <button (click)="eliminarIngrediente(ing)">Eliminar</button>
      </td>
    </tr>
  </tbody>
</table>
